<!DOCTYPE html>
 
<head>
    <meta charset="UTF-8" />
    <title>lukegit</title>
    <style type="text/css">
    	.v_color{
    		color: green;
    	}

    	.v_size{
    		font-size: 20px;
    	}
    </style>
</head>
<body>

	<div id="vue" >
		<!-- loop -->
		<div v-bind:class="{v_color: true, v_size: true}">
			<ul>
				<li v-for="(country, index) in world">
					{{worldMsg}} : {{index}} -> {{country.name}}
				</li>
			</ul>
		</div>
		<!-- click -->
		<div>
			<input type="text" id="text1" v-model="myMsg">
			<button v-on:click="keyScore()">alertInput</button>
		</div>
		<!-- show if -->
 		<div v-show="score">
			<p v-if="score > 10">over</p>
			<p v-else-if="score >5">high</p>
			<p v-else>low</p>
		</div>
        <span v-bind:style="{color: 'blue'}">Score:</span><input type="text" v-model="score">
        <!-- post node js -->
		<form @submit="findEmail()">
		    Name: <input type="text" v-model="user.name" placeholder="姓名" />
		    Email: <input type="text" v-model="user.email" placeholder="Email" />
			<input type="submit" />
			{{user}}
			<div v-text="findResult"></div>
		</form>
	</div>

	<div id="vue2">
		<div v-bind:style="vStyle">
			VUE2 div
		</div>
	</div>	 

</body>
<script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
<script>
	let app = new Vue({
		el: '#vue',
		data: {
			score: 0,
			worldMsg: 'Country in world',
			world:[
				{name: 'TAIWAN'},
				{name: 'JAPAN'},
				{name: 'USA'}
			],
			myMsg: "init",
			user:{
				name: "",
				email: ""
			},
			findResult:"waiting submit.."
		},
		methods:{
			keyScore: function(msg){
				var v = this;
				alert(v.myMsg);
			},
			findEmail: function(){
				var v = this;

				$.ajax({
					url: "/api/users/findemail",
					type: "POST",
					data: {
						name: v.user.name,
						email: v.user.email
					},
					success: function(result){
						alert('success');
						v.findResult = result.msg;
					},
					error: function(){
						alert('error');
					}
				});
			}
		}
	});

	new Vue({
		el: '#vue2',
		data:{
			vStyle:{
				color: 'red',
				fontSize: '50px'
			}
		}
	});
</script>
</html>